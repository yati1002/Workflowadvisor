{"datasets":[{"name":"57b1e8c8","displayName":"Job Cost Dataset","query":"--Get the latest Job information\nWith latest_job_info(\n  select\n    *\n  from\n    (\n      SELECT\n        *,\n        row_number() over(\n          PARTITION BY job_id\n          order by\n            change_time desc\n        ) as row\n      FROM\n        system.workflow.jobs\n    ) job_info\n  where\n    row = 1\n),\n--SKu price\nlatest_sku_price(\n  select\n    *\n  from\n    (\n      select\n        sku_name,\n        cloud,\n        currency_code,\n        pricing.effective_list.default as list_price,\n        price_start_time,\n        COALESCE(price_end_time, NOW()) AS price_end_time\n      from\n        system.billing.list_prices\n    ) latest_price\n),\n--billinginfo\nbilling_usage_detail (\n  select\n    *,\n    usage_metadata.cluster_id,\n    usage_metadata.job_id,\n    usage_metadata.job_run_id,\n    identity_metadata.run_as as owner,\n    TRANSFORM(\n      MAP_KEYS(custom_tags),\n      (k, i) -> CONCAT(\n        lower(k),\n        '=',\n        lower(MAP_VALUES(custom_tags) [i])\n      )\n    ) AS key_value_tags\n  from\n    system.billing.usage\n  where\n    usage_metadata.job_id is not null\n    and usage_metadata.job_run_id is not null\n    and usage_date BETWEEN :start_date\n    AND :end_date\n    AND (\n      :tags = 'All'\n      OR array_contains(\n        TRANSFORM(\n          MAP_KEYS(custom_tags),\n          (k, i) -> CONCAT(\n            lower(k),\n            '=',\n            lower(MAP_VALUES(custom_tags) [i])\n          )\n        ),\n        :tags\n      )\n    )\n),\n--billing per sku price\nbilling_sku_detail (\n  select\n    u.*,\n    p.currency_code,\n    list_price,\n    c.name as job_name,\n    (coalesce(usage_quantity, 0) * list_price) as Dollar_Amount\n  from\n    billing_usage_detail u\n    inner join latest_job_info c on u.job_id = c.job_id\n    inner join latest_sku_price p on u.sku_name = p.sku_name\n    and u.cloud = p.cloud\n    and usage_date BETWEEN :start_date\n    AND :end_date\n    and u.usage_start_time BETWEEN p.price_start_time\n    AND p.price_end_time\n),\n--Job run duration\n/*job_run_duration_1 as (\n    SELECT workspace_id,\n        job_id,\n        run_id,\n        min(period_start_time) as period_start_time,\n        max(period_end_time) as period_end_time,\n        CAST(SUM(period_end_time - period_start_time) AS LONG) / 3600 as duration,\n        FIRST(result_state, TRUE) as result_state\n    FROM system.lakeflow.job_run_timeline jr where\n    jr.period_start_time BETWEEN :start_date AND :end_date\n    GROUP BY ALL\n    ORDER BY period_start_time DESC\n),*/\njob_run_duration as (\n  select\n    b.workspace_id,\n    b.job_id,\n    b.run_id,\n    b.period_start_time,\n    b.period_end_time,\n    (\n      UNIX_TIMESTAMP(period_end_time) - UNIX_TIMESTAMP(period_start_time)\n    ) / 3600 AS duration,\n    b.result_state,\n    run_type,\n    termination_code\n  from\n    system.lakeflow.job_run_timeline b --inner join job_run_duration_1 b on a.job_id=b.job_id and a.run_id=b.run_id and  a.period_end_time=b.period_end_time\n  WHERE\n    period_start_time BETWEEN :start_date\n    AND :end_date\n),\n--Job run duration and cost\nbilling_sku_detail_duration (\n  select\n    jrc.*,\n    jrt.period_start_time,\n    jrt.period_end_time,\n    result_state,\n    duration,\n    run_type,\n    termination_code,\n    job_name\n  from\n    billing_sku_detail jrc\n    inner join job_run_duration jrt on jrc.job_run_id = jrt.run_id\n    and jrc.job_id = jrt.job_id\n    and jrt.workspace_id = jrc.workspace_id --and jrt.period_start_time between jrc.usage_start_time and jrc.usage_end_time\n    and (\n      date(jrt.period_start_time) = jrc.usage_date\n      or date(jrt.period_end_time) = jrc.usage_date\n    )\n),\n--latest cluster detail\nclusters AS (\n  SELECT\n    *,\n    ROW_NUMBER() OVER(\n      PARTITION BY workspace_id,\n      cluster_id\n      ORDER BY\n        change_time DESC\n    ) as rn\n  FROM\n    system.compute.clusters QUALIFY rn = 1\n),\ndetails (\n  select\n    b.*,\n    cluster_source,\n    cluster_name,\n    owned_by as cluster_owned_by,\n    dbr_version,\n    case\n      when result_state = 'TIMED_OUT' then 'Timeout_set'\n      else 'Timeout_Notset'\n    end as Timeout_flag --and run_type = 'JOB_RUN' and termination_code = 'CANCELLED' then 'Timeout_set' else 'Timeout_Notset' end as Timeout_flag\n  from\n    billing_sku_detail_duration b\n    left join clusters c USING (workspace_id, cluster_id)\n),\ntop_k_jobs as (\n  SELECT\n    job_name,\n    sum(Dollar_Amount) as Dollar_Amount\n  FROM\n    details\n  GROUP BY\n    job_name\n  ORDER BY\n    Dollar_Amount DESC\n  LIMIT\n    :top_k\n), top_k_owners as (\n  SELECT\n    owner,\n    sum(Dollar_Amount) as Dollar_Amount\n  FROM\n    details\n  GROUP BY\n    owner\n  ORDER BY\n    Dollar_Amount DESC\n  LIMIT\n    :top_k\n)\nselect\n  *,\n  CASE\n    WHEN cluster_source IN (\n      'UI', 'API'\n    ) THEN 'All PURPOSE CLUSTER'\n    WHEN cluster_source is null\n    THEN 'SERVERLESS'\n    ELSE cluster_source\n  END AS cleansed_cluster_source,\n  CASE\n    WHEN job_name IN (\n      SELECT\n        job_name\n      FROM\n        top_k_jobs\n    ) THEN job_name\n    ELSE 'All Others'\n  END AS cleansed_job_name,\n  CASE\n    WHEN owner IN (\n      SELECT\n        owner\n      FROM\n        top_k_owners\n    ) THEN owner\n    ELSE 'All Others'\n  END AS cleansed_owner\n  -- ,CASE\n  --   WHEN owner LIKE '%@%' THEN 'non_service_principal'\n  --   ELSE 'service_principal'\n  -- END AS owner_type\nFROM\n  details","parameters":[{"displayName":"start_date","keyword":"start_date","dataType":"DATE","defaultSelection":{"values":{"dataType":"DATE","values":[{"value":"now-30d/d"}]}}},{"displayName":"end_date","keyword":"end_date","dataType":"DATE","defaultSelection":{"values":{"dataType":"DATE","values":[{"value":"now/d"}]}}},{"displayName":"top_k","keyword":"top_k","dataType":"INTEGER","defaultSelection":{"values":{"dataType":"INTEGER","values":[{"value":"10"}]}}},{"displayName":"tags","keyword":"tags","dataType":"STRING","defaultSelection":{"values":{"dataType":"STRING","values":[{"value":"All"}]}}}]},{"name":"f4226adb","displayName":"Job History","query":"with jobs as (\n    select account_id, workspace_id, job_id, name\n    from (\n            SELECT account_id, workspace_id, job_id, name,\n                row_number() over(\n                    PARTITION BY job_id\n                    order by change_time desc\n                ) as row\n            FROM system.workflow.jobs\n        ) job_info\n    where row = 1\n), \n\n-- job results\njob_results as (\n SELECT period_start_time as usage_date, \n    --date(period_start_time) as usage_date,\n    job_id,\n    result_state,\n    count(*) as total\n  FROM system.lakeflow.job_run_timeline\n  WHERE\n    --period_start_time > current_date() - interval 90 days -- yatish\n    --AND \n    result_state in ('ERROR', 'TIMED_OUT', 'SUCCEEDED', 'FAILED','CANCELLED','SKIPPED')\n  GROUP BY\n    period_start_time,\n    job_id,\n    result_state\n), job_results_agg as (\n  SELECT\n  usage_date,\n  job_id,\n  coalesce(ERROR, 0) as total_error,\n  coalesce(TIMED_OUT, 0) as total_timed_out,\n  coalesce(SUCCEEDED, 0) as total_succeeded,\n  coalesce(FAILED, 0) as total_failed,\n  coalesce(CANCELLED, 0) as total_cancelled,\n  coalesce(SKIPPED, 0) as total_skipped,\n  (coalesce(ERROR, 0) + coalesce(TIMED_OUT, 0) + coalesce(SUCCEEDED, 0) + coalesce(FAILED, 0)+ coalesce(CANCELLED, 0)+ (coalesce(SKIPPED, 0))) as total_runs,\n  round(((coalesce(ERROR, 0) + coalesce(TIMED_OUT, 0) + coalesce(FAILED, 0))/(coalesce(ERROR, 0) + coalesce(TIMED_OUT, 0) + coalesce(FAILED, 0) + coalesce(SUCCEEDED, 0))),2) as failure_rate\nFROM (\n  SELECT\n    usage_date,\n    job_id,\n    result_state,\n    total\n    from job_results\n)\nPIVOT (\n  sum(total)\n  FOR result_state IN ('ERROR', 'TIMED_OUT', 'SUCCEEDED', 'FAILED','CANCELLED','SKIPPED')\n)\n),\nlatest_job_info(\nselect job_id , max(usage_date) as latest_usage_dt,sum(total_runs) as total_runs ,sum(total_error) as total_error ,sum(total_timed_out) as total_timed_out\n,sum(total_succeeded) as total_succeeded,sum(total_failed) as total_failed, sum(total_cancelled) as total_cancelled,\nround((sum(total_error)+sum(total_timed_out)+sum(total_failed)+ sum(total_cancelled)+sum(total_skipped))/sum(total_runs),2)*100  as failure_rate from job_results_agg group by 1 \n  \n),\n--select *from latest_job_info where job_id='301190336755832'\n\n--select * from system.lakeflow.job_run_timeline where job_id='301190336755832' order by 5 desc \n\n-- latest \njob_runs as( select job_id, usage_date,job_duration_sec/60 as duration_min,round(((job_duration_sec-previous_duration)/abs(previous_duration))*100,2) as job_duration_pct_change,result_state from (SELECT \n    period_start_time AS usage_date,result_state,\n    -- Calculate job_duration_sec outside the window function\n    timediff(SECOND, period_start_time, period_end_time) AS job_duration_sec,\n    job_id,\n    -- Use the calculated job_duration_sec directly without referencing it as a lateral column alias\n    LEAD(timediff(SECOND, period_start_time, period_end_time)) OVER (PARTITION BY job_id ORDER BY period_start_time DESC) AS previous_duration,\n    row_number() OVER (PARTITION BY job_id ORDER BY period_start_time DESC) AS row\n  FROM system.lakeflow.job_run_timeline\n) where row =1\n)\n--select *from job_runs where job_id='301190336755832'\n\n\n/*average_duration as(\nselect job_id, avg(job_duration_sec)/60 as avg_job_duration_min from job_runs where result_state = 'SUCCEEDED' group by job_id\n),\n\n\nlatest_run as (\n  select job_id, result_state as latest_result, job_duration_sec/60 as latest_duration_min from job_runs where row = 1\n)*/\n\n\nselect date(ragg.latest_usage_dt)as latest_usage_dt ,\n  j.account_id,\n  j.workspace_id,\n  j.job_id,\n  j.name,\n  lr.result_state,\n  lr.duration_min as latest_duration_min,\n  ragg.total_runs,\n  ragg.total_error,\n  ragg.total_timed_out,\n  ragg.total_succeeded,\n  ragg.total_failed,\n  ragg.total_cancelled,\n  ragg.failure_rate,\n  job_duration_pct_change\n  --round((lr.latest_duration_min-ad.avg_job_duration_min)/abs(ad.avg_job_duration_min)*100,2) as pct_job_duration_change\nfrom jobs j\ninner join job_runs lr\n  on j.job_id = lr.job_id\ninner join latest_job_info ragg\n  on j.job_id = ragg.job_id\n\norder by 1 desc\n\n"},{"name":"4e2dddd3","displayName":"Job Run Utilization MV","query":"WITH jobs AS (\n  SELECT\n    account_id,\n    workspace_id,\n    job_id,\n    name AS job_name\n  FROM\n    (\n      SELECT\n        account_id,\n        workspace_id,\n        job_id,\n        name,\n        ROW_NUMBER() OVER (PARTITION BY job_id ORDER BY change_time DESC) AS row\n      FROM\n        system.lakeflow.jobs\n    ) job_info\n  WHERE\n    row = 1\n),\njob_runs AS (\n  SELECT\n    j.account_id,\n    j.workspace_id,\n    j.job_id,\n    j.job_name,\n    jrt.run_id AS job_run_id,\n    jrt.period_start_time,\n    jrt.period_end_time,\n    jrt.run_type,\n    jrt.trigger_type,\n    jrt.termination_code\n  FROM\n    jobs j INNER JOIN system.lakeflow.job_run_timeline jrt\n  WHERE\n    j.job_id = jrt.job_id\n    and period_start_time BETWEEN :start_date AND :end_date --AND jrt.period_start_time >= CURRENT_DATE() - INTERVAL 90 DAYS\n),\njob_run_tasks AS (\n  SELECT\n    jr.account_id,\n    jr.workspace_id,\n    jr.job_id,\n    jr.job_name,\n    jr.job_run_id,\n    jr.period_start_time AS run_start_time,\n    jr.period_end_time AS run_end_time,\n    jr.run_type,\n    jr.trigger_type,\n    jr.termination_code AS run_termination_code,\n    jtr.run_id AS job_task_run_id,\n    jtr.parent_run_id,\n    jtr.period_start_time AS task_start_time,\n    jtr.period_end_time AS task_end_time,\n    jtr.task_key,\n    EXPLODE(jtr.compute_ids) cluster_id,\n    jtr.result_state AS task_result_state,\n    jtr.termination_code AS task_termination_code\n  FROM\n    job_runs jr INNER JOIN system.lakeflow.job_task_run_timeline jtr\n  WHERE\n    jr.job_run_id = jtr.job_run_id\n    and jtr.period_start_time BETWEEN :start_date AND :end_date -- AND jtr.period_start_time >= CURRENT_DATE() - INTERVAL 90 DAYS\n),\nclusters AS (\n  SELECT\n    cluster_name,\n    cluster_id,\n    owned_by,\n    driver_node_type,\n    worker_node_type,\n    worker_count,\n    min_autoscale_workers,\n    max_autoscale_workers,\n    auto_termination_minutes,\n    dbr_version\n  FROM\n    (\n      SELECT\n        *,\n        ROW_NUMBER() OVER (PARTITION BY cluster_id ORDER BY change_time DESC) AS row\n      FROM\n        system.compute.clusters\n    )\n  WHERE\n    row = 1\n),\nnode_type_details as (\n  select\n    node_type,\n    core_count,\n    memory_mb / 1000 as memory_gb,\n    gpu_count\n  from\n    system.compute.node_types\n),\nclusters_extended as (\n  select\n    c.*,\n    ntdriver.core_count as driver_core_count,\n    ntdriver.memory_gb as driver_memory_gb,\n    ntdriver.gpu_count as driver_gpu_count,\n    ntworker.core_count as worker_core_count,\n    ntworker.memory_gb as worker_memory_gb,\n    ntworker.gpu_count as worker_gpu_count\n  from\n    clusters c\n      inner join node_type_details ntdriver\n        on ntdriver.node_type = c.driver_node_type\n      inner join node_type_details ntworker\n        on ntworker.node_type = c.worker_node_type\n),\njob_clusters_timeline AS (\n  SELECT\n    jrt.account_id,\n    jrt.workspace_id,\n    jrt.job_id,\n    jrt.job_name,\n    jrt.job_run_id,\n    jrt.run_start_time,\n    jrt.run_end_time,\n    jrt.run_type,\n    jrt.trigger_type,\n    jrt.run_termination_code,\n    jrt.job_task_run_id,\n    jrt.parent_run_id,\n    jrt.task_start_time,\n    jrt.task_end_time,\n    jrt.task_key,\n    jrt.task_result_state,\n    jrt.task_termination_code,\n    c.cluster_name,\n    c.cluster_id,\n    c.owned_by,\n    c.driver_node_type,\n    c.driver_core_count,\n    c.driver_memory_gb,\n    c.driver_gpu_count,\n    c.worker_node_type,\n    c.worker_core_count,\n    c.worker_memory_gb,\n    c.worker_gpu_count,\n    c.worker_count,\n    c.min_autoscale_workers,\n    c.max_autoscale_workers,\n    c.auto_termination_minutes,\n    c.dbr_version,\n    nt.instance_id,\n    nt.start_time AS instance_start_time,\n    nt.end_time AS instance_end_time,\n    nt.driver,\n    nt.cpu_user_percent,\n    nt.cpu_system_percent,\n    nt.cpu_wait_percent,\n    nt.mem_used_percent,\n    nt.mem_swap_percent,\n    nt.network_sent_bytes,\n    nt.network_received_bytes\n  FROM\n    job_run_tasks jrt\n      INNER JOIN clusters_extended c\n        ON jrt.cluster_id = c.cluster_id\n      INNER JOIN system.compute.node_timeline nt\n  WHERE\n    jrt.cluster_id = nt.cluster_id\n    AND nt.start_time >= jrt.task_start_time\n    AND nt.end_time <= jrt.task_end_time\n    and nt.start_time BETWEEN :start_date AND :end_date --AND nt.start_time >= CURRENT_DATE() - INTERVAL 90 DAYS\n), --SELECT * FROM job_clusters_timeline\ntop_k_low_cpu AS (\n  select\n    account_id,\n    workspace_id,\n    job_id,\n    job_name,\n    avg(cpu_user_percent + cpu_system_percent) as `Avg CPU Utilization`\n  from\n    job_clusters_timeline\n  group by\n    account_id,\n    workspace_id,\n    job_id,\n    job_name\n  ORDER BY\n    `Avg CPU Utilization` asc\n  LIMIT :top_k\n),\ntop_k_high_cpu AS (\n  select\n    account_id,\n    workspace_id,\n    job_id,\n    job_name,\n    avg(cpu_user_percent + cpu_system_percent) as `Avg CPU Utilization`\n  from\n    job_clusters_timeline\n  group by\n    account_id,\n    workspace_id,\n    job_id,\n    job_name\n  ORDER BY\n    `Avg CPU Utilization` desc\n  LIMIT :top_k\n),\ntop_k_high_mem AS (\n  select\n    account_id,\n    workspace_id,\n    job_id,\n    job_name,\n    avg(mem_used_percent) as `Avg Memory Utilization`\n  from\n    job_clusters_timeline\n  group by\n    account_id,\n    workspace_id,\n    job_id,\n    job_name\n  ORDER BY\n    `Avg Memory Utilization` desc\n  LIMIT :top_k\n),\ntop_k_low_mem AS (\n  select\n    account_id,\n    workspace_id,\n    job_id,\n    job_name,\n    avg(mem_used_percent) as `Avg Memory Utilization`\n  from\n    job_clusters_timeline\n  group by\n    account_id,\n    workspace_id,\n    job_id,\n    job_name\n  ORDER BY\n    `Avg Memory Utilization` asc\n  LIMIT :top_k\n)\nselect\n  *,\n  round(cpu_user_percent + cpu_system_percent, 2) as cpu_total_percent,\n  network_sent_bytes / (1024 * 1024) as bytes_sent,\n  network_received_bytes / (1024 * 1024) as bytes_rec,\n  CASE\n    WHEN\n      job_name IN (\n        SELECT\n          job_name\n        FROM\n          top_k_low_cpu\n      )\n    THEN\n      'LOW CPU'\n    ELSE null\n  END AS top_k_low_cpu_job,\n  CASE\n    WHEN\n      job_name IN (\n        SELECT\n          job_name\n        FROM\n          top_k_high_cpu\n      )\n    THEN\n      'High CPU'\n    ELSE null\n  END AS top_k_high_cpu_job,\n  CASE\n    WHEN\n      job_name IN (\n        SELECT\n          job_name\n        FROM\n          top_k_high_mem\n      )\n    THEN\n      'HIGH MEMORY'\n    ELSE null\n  END AS top_k_high_mem_job,\n  CASE\n    WHEN\n      job_name IN (\n        SELECT\n          job_name\n        FROM\n          top_k_low_mem\n      )\n    THEN\n      'LOW MEMORY'\n    ELSE null\n  END AS top_k_low_mem_job,\n  row_number() OVER(PARTITION BY job_run_id, \n  instance_start_time, instance_end_time, trigger_type, \n  run_termination_code, cluster_id, driver_node_type, worker_node_type, \n  worker_count, cpu_user_percent, mem_used_percent ORDER BY job_task_run_id) AS row_num_for_table\nfrom\n  job_clusters_timeline\n-- where job_run_id = '1002919912225130'\n;\n\n/* Removed by Jake 11/25 with Yatish\nselect distinct Job_id , owned_by, Job_name , job_run_id , run_start_time , run_end_time , trigger_type , run_termination_code , cluster_id , driver_node_type , worker_node_type , worker_count, DBR_version , Avg(CPU_Total_Percent) as cpu_total_percent ,\nAvg(mem_used_percent) as mem_used_percent , AVG(bytes_sent) as bytes_sent , AVG(bytes_rec) as bytes_rec\n\nfrom final \ngroup by all \n*/","parameters":[{"displayName":"start_date","keyword":"start_date","dataType":"DATE","defaultSelection":{"values":{"dataType":"DATE","values":[{"value":"now-7d/d"}]}}},{"displayName":"end_date","keyword":"end_date","dataType":"DATE","defaultSelection":{"values":{"dataType":"DATE","values":[{"value":"now-1d/d"}]}}},{"displayName":"top_k","keyword":"top_k","dataType":"INTEGER","defaultSelection":{"values":{"dataType":"INTEGER","values":[{"value":"10"}]}}}]}],"pages":[{"name":"d63f88fd","displayName":"Job Cost Summary","layout":[{"widget":{"name":"f88c7007","textbox_spec":"## Job Cost Metrics\nThis Section highlights the Account level $DBU trend over a period of time. Use this section to analyze: \n1. Total Cost divvied by WorkspaceId - Analyze the most expensive Workspace\n2. Daily Cost Per SKU  - Analyze which SKU is costing you the most amount of $$  \n3. Top Cost Per Job Owner  - Analyze the most expensive jobs in the account divvied by job owner\n4. Top Cost Per Job Name - Analyze the most expensive jobs in the account divvied by job name\n5. Top Cost Per DBR Version -  Analyze the cost attributed to the DBR version \n"},"position":{"x":0,"y":3,"width":6,"height":4}},{"widget":{"name":"6d6290a3","queries":[{"name":"dashboards/01efed5b61be1591ad2a7455eaa232d2/datasets/01efed5b61be1be8a2b71d4a52f3813b_cleansed_owner","query":{"datasetName":"57b1e8c8","fields":[{"name":"cleansed_owner","expression":"`cleansed_owner`"},{"name":"cleansed_owner_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"fieldName":"cleansed_owner","displayName":"cleansed_owner","queryName":"dashboards/01efed5b61be1591ad2a7455eaa232d2/datasets/01efed5b61be1be8a2b71d4a52f3813b_cleansed_owner"}]},"frame":{"showTitle":true,"showDescription":false,"title":"Owner"}}},"position":{"x":3,"y":8,"width":3,"height":1}},{"widget":{"name":"56a1503d","queries":[{"name":"parameter_dashboards/01ef7f8fc6b11d308cf7e71c24d0dbd1/datasets/01ef82c8088718159a41f486c4988693_end_date","query":{"datasetName":"57b1e8c8","parameters":[{"name":"end_date","keyword":"end_date"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-date-picker","encodings":{"fields":[{"parameterName":"end_date","queryName":"parameter_dashboards/01ef7f8fc6b11d308cf7e71c24d0dbd1/datasets/01ef82c8088718159a41f486c4988693_end_date"}]},"frame":{"showTitle":true,"showDescription":false,"title":"Job End Date"}}},"position":{"x":3,"y":9,"width":3,"height":1}},{"widget":{"name":"4f7f0c67","queries":[{"name":"dashboards/01efed5b61be1591ad2a7455eaa232d2/datasets/01efed5b61be1be8a2b71d4a52f3813b_dbr_version","query":{"datasetName":"57b1e8c8","fields":[{"name":"dbr_version","expression":"`dbr_version`"},{"name":"dbr_version_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"dbr_version","displayName":"dbr_version","queryName":"dashboards/01efed5b61be1591ad2a7455eaa232d2/datasets/01efed5b61be1be8a2b71d4a52f3813b_dbr_version"}]},"frame":{"showTitle":true,"showDescription":false,"title":"DBR Version"}}},"position":{"x":0,"y":10,"width":3,"height":1}},{"widget":{"name":"2de3d542","queries":[{"name":"dashboards/01ef7f8fc6b11d308cf7e71c24d0dbd1/datasets/01ef82c8088718159a41f486c4988693_result_state","query":{"datasetName":"57b1e8c8","fields":[{"name":"result_state","expression":"`result_state`"},{"name":"result_state_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"fieldName":"result_state","displayName":"result_state","queryName":"dashboards/01ef7f8fc6b11d308cf7e71c24d0dbd1/datasets/01ef82c8088718159a41f486c4988693_result_state"}]},"frame":{"showTitle":true,"showDescription":false,"title":"State"}}},"position":{"x":0,"y":7,"width":3,"height":1}},{"widget":{"name":"e7408b33","queries":[{"name":"main_query","query":{"datasetName":"57b1e8c8","fields":[{"name":"avg(duration)","expression":"AVG(`duration`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"avg(duration)","displayName":"Average duration"}},"frame":{"contentAlignment":"left","title":"Avg Run Duration (in Hr)","showTitle":true}}},"position":{"x":2,"y":11,"width":1,"height":2}},{"widget":{"name":"a6a8cf67","queries":[{"name":"main_query","query":{"datasetName":"57b1e8c8","fields":[{"name":"percentile(duration, percentage=0_5)","expression":"PERCENTILE(`duration`, 0.5)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"percentile(duration, percentage=0_5)","style":{"bold":true},"displayName":"50th Percentile of duration"}},"frame":{"title":"P50 Job Duration (in Hr) ","showTitle":true,"contentAlignment":"left"}}},"position":{"x":3,"y":11,"width":1,"height":2}},{"widget":{"name":"94cb905b","queries":[{"name":"main_query","query":{"datasetName":"57b1e8c8","fields":[{"name":"sku_name","expression":"`sku_name`"},{"name":"daily(usage_date)","expression":"DATE_TRUNC(\"DAY\", `usage_date`)"},{"name":"sum(Dollar_Amount)","expression":"SUM(`Dollar_Amount`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"daily(usage_date)","scale":{"type":"temporal"},"axis":{"title":"Date"},"displayName":"Date"},"y":{"fieldName":"sum(Dollar_Amount)","scale":{"type":"quantitative"},"format":{"type":"number-currency","currencyCode":"USD","abbreviation":"compact","decimalPlaces":{"type":"max","places":2}},"axis":{"title":"Cost"},"displayName":"Cost"},"color":{"fieldName":"sku_name","scale":{"type":"categorical"},"displayName":"SKU"},"label":{"show":true}},"frame":{"title":" Daily Cost Per SKU","showTitle":true}}},"position":{"x":3,"y":15,"width":3,"height":6}},{"widget":{"name":"fe7e3fed","queries":[{"name":"main_query","query":{"datasetName":"57b1e8c8","fields":[{"name":"percentile(duration, percentage=0_75)","expression":"PERCENTILE(`duration`, 0.75)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"percentile(duration, percentage=0_75)","style":{"bold":true},"displayName":"75th Percentile of duration"}},"frame":{"title":"P75 Job Duration (in Hr) ","showTitle":true,"contentAlignment":"left"}}},"position":{"x":4,"y":11,"width":1,"height":2}},{"widget":{"name":"65958053","queries":[{"name":"main_query","query":{"datasetName":"57b1e8c8","fields":[{"name":"percentile(duration, percentage=0_99)","expression":"PERCENTILE(`duration`, 0.99)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"percentile(duration, percentage=0_99)","style":{"bold":true},"displayName":"99th Percentile of duration"}},"frame":{"title":"P99 Job Duration (in Hr) ","showTitle":true,"contentAlignment":"left"}}},"position":{"x":5,"y":11,"width":1,"height":2}},{"widget":{"name":"06d3b88c","queries":[{"name":"main_query","query":{"datasetName":"57b1e8c8","fields":[{"name":"sum(Dollar_Amount)","expression":"SUM(`Dollar_Amount`)"},{"name":"cleansed_job_name","expression":"`cleansed_job_name`"}],"filters":[{"expression":"`dbr_version` IN ('10.4.x-cpu-ml-scala2.12', '10.4.x-photon-scala2.12', '10.4.x-scala2.12', '11.1.x-scala2.12', '11.2.x-cpu-ml-scala2.12', '11.3.x-cpu-ml-scala2.12', '11.3.x-photon-scala2.12', '11.3.x-scala2.12', '12.1.x-gpu-ml-scala2.12', '12.2.x-aarch64-scala2.12', '12.2.x-cpu-ml-scala2.12', '12.2.x-gpu-ml-scala2.12', '12.2.x-photon-scala2.12', '12.2.x-scala2.12', '13.0.x-aarch64-photon-scala2.12', '13.0.x-cpu-ml-scala2.12', '13.0.x-gpu-ml-scala2.12', '13.0.x-photon-scala2.12', '13.1.x-cpu-ml-scala2.12', '13.1.x-scala2.12', '13.2.x-cpu-ml-scala2.12', '13.2.x-gpu-ml-scala2.12', '13.2.x-photon-scala2.12', '13.2.x-scala2.12', '13.3.x-aarch64-photon-scala2.12', '13.3.x-aarch64-scala2.12', '13.3.x-cpu-ml-scala2.12', '13.3.x-gpu-ml-scala2.12', '13.3.x-photon-scala2.12', '13.3.x-scala2.12', '14.0.x-photon-scala2.12', '14.0.x-scala2.12', '14.1.x-aarch64-photon-scala2.12', '14.1.x-cpu-ml-scala2.12', '14.2.x-aarch64-scala2.12', '14.2.x-cpu-ml-scala2.12', '14.2.x-photon-scala2.12', '14.2.x-scala2.12', '14.3.x-aarch64-photon-scala2.12', '14.3.x-aarch64-scala2.12', '14.3.x-cpu-ml-scala2.12', '14.3.x-gpu-ml-scala2.12', '14.3.x-photon-scala2.12', '14.3.x-scala2.12', '15.0.x-aarch64-photon-scala2.12', '15.0.x-aarch64-scala2.12', '15.0.x-cpu-ml-scala2.12', '15.0.x-gpu-ml-scala2.12', '15.0.x-photon-scala2.12', '15.0.x-scala2.12', '15.1.x-aarch64-photon-scala2.12', '15.1.x-aarch64-scala2.12', '15.1.x-cpu-ml-scala2.12', '15.1.x-gpu-ml-scala2.12', '15.1.x-photon-scala2.12', '15.2.x-aarch64-photon-scala2.12', '15.2.x-aarch64-scala2.12', '15.2.x-cpu-ml-scala2.12', '15.2.x-photon-scala2.12', '15.2.x-scala2.12', '15.3.x-aarch64-photon-scala2.12', '15.3.x-aarch64-scala2.12', '15.3.x-cpu-ml-photon-scala2.12', '15.3.x-cpu-ml-scala2.12', '15.3.x-gpu-ml-scala2.12', '15.3.x-photon-scala2.12', '15.3.x-scala2.12', '15.4.x-aarch64-cpu-ml-photon-scala2.12', '15.4.x-aarch64-cpu-ml-scala2.12', '15.4.x-aarch64-photon-scala2.12', '15.4.x-aarch64-scala2.12', '15.4.x-cpu-ml-photon-scala2.12', '15.4.x-cpu-ml-scala2.12', '15.4.x-gpu-ml-scala2.12', '15.4.x-photon-scala2.12', '15.4.x-scala2.12', '7.3.x-cpu-ml-scala2.12', '9.1.x-photon-scala2.12', '9.1.x-scala2.12', '15.2.x-cpu-ml-photon-scala2.12', '16.0.x-cpu-ml-photon-scala2.12', '16.0.x-aarch64-cpu-ml-photon-scala2.12', '16.0.x-cpu-ml-scala2.12', '16.0.x-photon-scala2.12') OR `dbr_version` IS NULL"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"sum(Dollar_Amount)","scale":{"type":"quantitative","fn":{"type":"symlog"}},"format":{"type":"number-currency","currencyCode":"USD","abbreviation":"compact","decimalPlaces":{"type":"max","places":2}},"axis":{"title":"Cost"},"displayName":"Cost"},"y":{"fieldName":"cleansed_job_name","scale":{"type":"categorical","sort":{"by":"x-reversed"}},"axis":{"title":"Job Name"},"displayName":"Job Name"},"label":{"show":true}},"frame":{"title":"Top Cost Per Job Name","showTitle":true}}},"position":{"x":0,"y":26,"width":3,"height":5}},{"widget":{"name":"c07aaeea","queries":[{"name":"main_query","query":{"datasetName":"57b1e8c8","fields":[{"name":"workspace_id","expression":"`workspace_id`"},{"name":"sum(Dollar_Amount)","expression":"SUM(`Dollar_Amount`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"sum(Dollar_Amount)","scale":{"type":"quantitative","fn":{"type":"symlog"}},"format":{"type":"number-currency","currencyCode":"USD","abbreviation":"compact","decimalPlaces":{"type":"max","places":2}},"axis":{"title":"Cost"},"displayName":"Cost"},"y":{"fieldName":"workspace_id","scale":{"type":"categorical","sort":{"by":"x-reversed"}},"axis":{"title":"WorkspaceId"},"displayName":"WorkspaceId"},"color":{"fieldName":"workspace_id","scale":{"type":"categorical","mappings":[{"value":"2556758628403379","color":"#9d0708"}]},"legend":{"title":"WorkspaceId"},"displayName":"WorkspaceId"},"label":{"show":true}},"frame":{"title":"Cost Per WorkspaceId","showTitle":true}}},"position":{"x":0,"y":15,"width":3,"height":6}},{"widget":{"name":"76348302","textbox_spec":"# WorkFlow Advisor Dashboard\n\n#### Section 1 - Job Cost Metrics - See which workflow(s) costs more\n\n\n#### Section 2- Daily Job Run KPIs - Check details at a Job level\n\n\n#### Section 3 - Latest Job Runs - Drill further into the specific run of a job "},"position":{"x":0,"y":0,"width":6,"height":3}},{"widget":{"name":"79c742c2","queries":[{"name":"parameter_dashboards/01efed5b61be1591ad2a7455eaa232d2/datasets/01efed5b61be1be8a2b71d4a52f3813b_start_date","query":{"datasetName":"57b1e8c8","parameters":[{"name":"start_date","keyword":"start_date"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-date-picker","encodings":{"fields":[{"parameterName":"start_date","queryName":"parameter_dashboards/01efed5b61be1591ad2a7455eaa232d2/datasets/01efed5b61be1be8a2b71d4a52f3813b_start_date"}]},"frame":{"showTitle":true,"title":"Job Start date"}}},"position":{"x":0,"y":9,"width":3,"height":1}},{"widget":{"name":"2b1f809f","queries":[{"name":"main_query","query":{"datasetName":"57b1e8c8","fields":[{"name":"sum(Dollar_Amount)","expression":"SUM(`Dollar_Amount`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"sum(Dollar_Amount)","style":{"bold":true},"format":{"type":"number-currency","currencyCode":"USD","abbreviation":"compact","decimalPlaces":{"type":"max","places":0}},"displayName":"Sum of Dollar_Amount"}},"frame":{"showTitle":true,"title":"           Total Job Cost","contentAlignment":"left"}}},"position":{"x":0,"y":11,"width":1,"height":2}},{"widget":{"name":"853c774f","queries":[{"name":"main_query","query":{"datasetName":"57b1e8c8","fields":[{"name":"countdistinct(workspace_id)","expression":"COUNT(DISTINCT `workspace_id`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"countdistinct(workspace_id)","style":{"bold":true,"rules":[{"condition":{"operator":"="},"color":"#00A972"}]},"displayName":"Count of Unique workspace_id"}},"frame":{"title":"Count of WorkspaceID","showTitle":true,"contentAlignment":"left"}}},"position":{"x":0,"y":13,"width":1,"height":2}},{"widget":{"name":"c7b1e246","queries":[{"name":"main_query","query":{"datasetName":"57b1e8c8","fields":[{"name":"cleansed_owner","expression":"`cleansed_owner`"},{"name":"sum(Dollar_Amount)","expression":"SUM(`Dollar_Amount`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"sum(Dollar_Amount)","scale":{"type":"quantitative","fn":{"type":"symlog"}},"format":{"type":"number-currency","currencyCode":"USD","abbreviation":"compact","decimalPlaces":{"type":"max","places":2}},"axis":{"title":"Cost"},"displayName":"Cost"},"y":{"fieldName":"cleansed_owner","scale":{"type":"categorical","sort":{"by":"x-reversed"}},"axis":{"title":"Job Owner"},"displayName":"Job Owner"},"color":{"fieldName":"cleansed_owner","scale":{"type":"categorical"},"displayName":"Job Owner"},"label":{"show":true}},"frame":{"title":"Top Cost Per Job Owner","showTitle":true}}},"position":{"x":0,"y":21,"width":6,"height":5}},{"widget":{"name":"a597a88b","queries":[{"name":"main_query","query":{"datasetName":"57b1e8c8","fields":[{"name":"sum(Dollar_Amount)","expression":"SUM(`Dollar_Amount`)"},{"name":"dbr_version","expression":"`dbr_version`"}],"filters":[{"expression":"`dbr_version` IN ('10.4.x-cpu-ml-scala2.12', '10.4.x-photon-scala2.12', '10.4.x-scala2.12', '11.1.x-scala2.12', '11.2.x-cpu-ml-scala2.12', '11.3.x-cpu-ml-scala2.12', '11.3.x-photon-scala2.12', '11.3.x-scala2.12', '12.1.x-gpu-ml-scala2.12', '12.2.x-aarch64-scala2.12', '12.2.x-cpu-ml-scala2.12', '12.2.x-gpu-ml-scala2.12', '12.2.x-photon-scala2.12', '12.2.x-scala2.12', '13.0.x-aarch64-photon-scala2.12', '13.0.x-cpu-ml-scala2.12', '13.0.x-gpu-ml-scala2.12', '13.0.x-photon-scala2.12', '13.1.x-cpu-ml-scala2.12', '13.1.x-scala2.12', '13.2.x-cpu-ml-scala2.12', '13.2.x-gpu-ml-scala2.12', '13.2.x-photon-scala2.12', '13.2.x-scala2.12', '13.3.x-aarch64-photon-scala2.12', '13.3.x-aarch64-scala2.12', '13.3.x-cpu-ml-scala2.12', '13.3.x-gpu-ml-scala2.12', '13.3.x-photon-scala2.12', '13.3.x-scala2.12', '14.0.x-photon-scala2.12', '14.0.x-scala2.12', '14.1.x-aarch64-photon-scala2.12', '14.1.x-cpu-ml-scala2.12', '14.2.x-aarch64-scala2.12', '14.2.x-cpu-ml-scala2.12', '14.2.x-photon-scala2.12', '14.2.x-scala2.12', '14.3.x-aarch64-photon-scala2.12', '14.3.x-aarch64-scala2.12', '14.3.x-cpu-ml-scala2.12', '14.3.x-gpu-ml-scala2.12', '14.3.x-photon-scala2.12', '14.3.x-scala2.12', '15.0.x-aarch64-photon-scala2.12', '15.0.x-aarch64-scala2.12', '15.0.x-cpu-ml-scala2.12', '15.0.x-gpu-ml-scala2.12', '15.0.x-photon-scala2.12', '15.0.x-scala2.12', '15.1.x-aarch64-photon-scala2.12', '15.1.x-aarch64-scala2.12', '15.1.x-cpu-ml-scala2.12', '15.1.x-gpu-ml-scala2.12', '15.1.x-photon-scala2.12', '15.2.x-aarch64-photon-scala2.12', '15.2.x-aarch64-scala2.12', '15.2.x-cpu-ml-scala2.12', '15.2.x-photon-scala2.12', '15.2.x-scala2.12', '15.3.x-aarch64-photon-scala2.12', '15.3.x-aarch64-scala2.12', '15.3.x-cpu-ml-photon-scala2.12', '15.3.x-cpu-ml-scala2.12', '15.3.x-gpu-ml-scala2.12', '15.3.x-photon-scala2.12', '15.3.x-scala2.12', '15.4.x-aarch64-cpu-ml-photon-scala2.12', '15.4.x-aarch64-cpu-ml-scala2.12', '15.4.x-aarch64-photon-scala2.12', '15.4.x-aarch64-scala2.12', '15.4.x-cpu-ml-photon-scala2.12', '15.4.x-cpu-ml-scala2.12', '15.4.x-gpu-ml-scala2.12', '15.4.x-photon-scala2.12', '15.4.x-scala2.12', '7.3.x-cpu-ml-scala2.12', '9.1.x-photon-scala2.12', '9.1.x-scala2.12')"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"sum(Dollar_Amount)","scale":{"type":"quantitative","fn":{"type":"symlog"}},"format":{"type":"number-currency","currencyCode":"USD","abbreviation":"compact","decimalPlaces":{"type":"max","places":2}},"axis":{"title":"Cost"},"displayName":"Cost"},"y":{"fieldName":"dbr_version","scale":{"type":"categorical","sort":{"by":"x-reversed"}},"axis":{"title":"DBR Version"},"displayName":"DBR Version"},"label":{"show":true}},"frame":{"title":" Cost Per DBR Version","showTitle":true}}},"position":{"x":3,"y":26,"width":3,"height":5}},{"widget":{"name":"ec4b8419","queries":[{"name":"main_query","query":{"datasetName":"57b1e8c8","fields":[{"name":"countdistinct(job_run_id)","expression":"COUNT(DISTINCT `job_run_id`)"}],"filters":[{"expression":"`result_state` IN ('CANCELLED')"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"countdistinct(job_run_id)","format":{"type":"number-plain","abbreviation":"compact","decimalPlaces":{"type":"max","places":2}},"style":{"rules":[{"condition":{"operator":">=","operand":{"type":"data-value","value":"0"}},"color":"#FB8D3D"}]},"displayName":"Count of Unique job_run_id"}},"frame":{"showTitle":true,"title":"Runs Cancelled","contentAlignment":"left"}}},"position":{"x":5,"y":13,"width":1,"height":2}},{"widget":{"name":"e0bba5fc","queries":[{"name":"main_query","query":{"datasetName":"57b1e8c8","fields":[{"name":"countdistinct(job_run_id)","expression":"COUNT(DISTINCT `job_run_id`)"}],"filters":[{"expression":"`result_state` IN ('SUCCEEDED')"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"countdistinct(job_run_id)","style":{"rules":[{"condition":{"operator":">=","operand":{"type":"data-value","value":"0"}},"color":"#00A972"}]},"displayName":"Count of Unique job_run_id"}},"frame":{"showTitle":true,"title":"Runs Succeeded","contentAlignment":"left"}}},"position":{"x":1,"y":13,"width":1,"height":2}},{"widget":{"name":"2b023375","queries":[{"name":"main_query","query":{"datasetName":"57b1e8c8","fields":[{"name":"countdistinct(job_run_id)","expression":"COUNT(DISTINCT `job_run_id`)"}],"filters":[{"expression":"`result_state` IN ('FAILED')"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"countdistinct(job_run_id)","style":{"rules":[{"condition":{"operator":">=","operand":{"type":"data-value","value":"0"}},"color":"#8BCAE7"}]},"displayName":"Count of Unique job_run_id"}},"frame":{"showTitle":true,"title":"Runs Failed","contentAlignment":"left"}}},"position":{"x":3,"y":13,"width":1,"height":2}},{"widget":{"name":"bcbaa618","queries":[{"name":"main_query","query":{"datasetName":"57b1e8c8","fields":[{"name":"countdistinct(job_run_id)","expression":"COUNT(DISTINCT `job_run_id`)"}],"filters":[{"expression":"`result_state` IN ('TIMED_OUT')"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"countdistinct(job_run_id)","style":{"rules":[{"condition":{"operator":">=","operand":{"type":"data-value","value":"0"}},"color":"#A55F2A"}]},"displayName":"Count of Unique job_run_id"}},"frame":{"showTitle":true,"title":"Runs Timed Out"}}},"position":{"x":4,"y":13,"width":1,"height":2}},{"widget":{"name":"5d90eaa5","queries":[{"name":"main_query","query":{"datasetName":"57b1e8c8","fields":[{"name":"countdistinct(job_run_id)","expression":"COUNT(DISTINCT `job_run_id`)"}],"filters":[{"expression":"`result_state` IN ('ERROR')"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"countdistinct(job_run_id)","style":{"rules":[{"condition":{"operator":">=","operand":{"type":"data-value","value":"0"}},"color":"#E92828"}]},"displayName":"Count of Unique job_run_id"}},"frame":{"showTitle":true,"title":"Runs Errored","contentAlignment":"left"}}},"position":{"x":2,"y":13,"width":1,"height":2}},{"widget":{"name":"4bdea680","queries":[{"name":"main_query","query":{"datasetName":"57b1e8c8","fields":[{"name":"countdistinct(job_run_id)","expression":"COUNT(DISTINCT `job_run_id`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"countdistinct(job_run_id)","displayName":"Count of Unique job_run_id"}},"frame":{"showTitle":true,"title":"Total Job Runs","contentAlignment":"left"}}},"position":{"x":1,"y":11,"width":1,"height":2}},{"widget":{"name":"5702cb49","queries":[{"name":"dashboards/01efed5b61be1591ad2a7455eaa232d2/datasets/01efed5b61be1be8a2b71d4a52f3813b_cleansed_job_name","query":{"datasetName":"57b1e8c8","fields":[{"name":"cleansed_job_name","expression":"`cleansed_job_name`"},{"name":"cleansed_job_name_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"fieldName":"cleansed_job_name","displayName":"cleansed_job_name","queryName":"dashboards/01efed5b61be1591ad2a7455eaa232d2/datasets/01efed5b61be1be8a2b71d4a52f3813b_cleansed_job_name"}]},"frame":{"showTitle":true,"showDescription":false,"title":"Job Name"}}},"position":{"x":3,"y":7,"width":3,"height":1}},{"widget":{"name":"e252bbf4","queries":[{"name":"parameter_dashboards/01efee50508612e6888965e28cf32af7/datasets/01eff5313a601ea1a5debb4b6bfe4131_top_k","query":{"datasetName":"57b1e8c8","parameters":[{"name":"top_k","keyword":"top_k"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"parameterName":"top_k","queryName":"parameter_dashboards/01efee50508612e6888965e28cf32af7/datasets/01eff5313a601ea1a5debb4b6bfe4131_top_k"}]},"frame":{"showTitle":true,"showDescription":false,"title":"Top K"}}},"position":{"x":0,"y":8,"width":3,"height":1}},{"widget":{"name":"efd5c0da","queries":[{"name":"main_query","query":{"datasetName":"57b1e8c8","fields":[{"name":"workspace_id","expression":"`workspace_id`"},{"name":"daily(usage_date)","expression":"DATE_TRUNC(\"DAY\", `usage_date`)"},{"name":"countdistinct(job_run_id)","expression":"COUNT(DISTINCT `job_run_id`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"daily(usage_date)","scale":{"type":"temporal"},"axis":{"title":"Date"},"displayName":"Date"},"y":{"fieldName":"countdistinct(job_run_id)","scale":{"type":"quantitative"},"axis":{"title":"Number of Runs"},"displayName":"Number of Runs"},"color":{"fieldName":"workspace_id","scale":{"type":"categorical","mappings":[{"value":"2556758628403379","color":"#9d0708"}]},"legend":{"title":"WorkspaceId"},"displayName":"WorkspaceId"},"label":{"show":true}},"frame":{"title":"Daily Runs By WorkspaceId","showTitle":true}}},"position":{"x":0,"y":34,"width":3,"height":5}},{"widget":{"name":"be08c4f0","queries":[{"name":"main_query","query":{"datasetName":"57b1e8c8","fields":[{"name":"result_state","expression":"`result_state`"},{"name":"daily(usage_date)","expression":"DATE_TRUNC(\"DAY\", `usage_date`)"},{"name":"sum(Dollar_Amount)","expression":"SUM(`Dollar_Amount`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"daily(usage_date)","scale":{"type":"temporal"},"axis":{"title":"Date"},"displayName":"Date"},"y":{"fieldName":"sum(Dollar_Amount)","scale":{"type":"quantitative"},"axis":{"title":"Number of Runs"},"displayName":"Number of Runs"},"color":{"fieldName":"result_state","scale":{"type":"categorical","mappings":[{"value":"SUCCEEDED","color":"#00A972"},{"value":"CANCELLED","color":"#FFAB00"},{"value":"ERROR","color":"#FF3621"},{"value":"SKIPPED","color":"#077A9D"}]},"legend":{"title":"State"},"displayName":"State"},"label":{"show":true}},"frame":{"title":"Daily Runs By State ","showTitle":true}}},"position":{"x":3,"y":34,"width":3,"height":5}},{"widget":{"name":"4ecc468e","queries":[{"name":"main_query","query":{"datasetName":"f4226adb","fields":[{"name":"job_id","expression":"`job_id`"},{"name":"name","expression":"`name`"},{"name":"latest_usage_dt","expression":"`latest_usage_dt`"},{"name":"result_state","expression":"`result_state`"},{"name":"latest_duration_min","expression":"`latest_duration_min`"},{"name":"failure_rate","expression":"`failure_rate`"},{"name":"job_duration_pct_change","expression":"`job_duration_pct_change`"}],"disaggregated":true}}],"spec":{"version":1,"widgetType":"table","encodings":{"columns":[{"fieldName":"job_id","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":2,"title":"JOB ID","allowSearch":true,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"job_id"},{"fieldName":"name","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":3,"title":"NAME","allowSearch":true,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"name"},{"fieldName":"latest_usage_dt","dateTimeFormat":"YYYY-MM-DD","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"date","displayAs":"datetime","visible":true,"order":4,"title":"LATEST RUN DATE","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"latest_usage_dt"},{"fieldName":"result_state","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":5,"title":"LAST RESULT STATE","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"description":"","cellFormat":{"default":{"foregroundColor":null},"rules":[{"if":{"column":"result_state","fn":"=","literal":"SUCCEEDED"},"value":{"foregroundColor":"#3BD973"}},{"if":{"column":"result_state","fn":"=","literal":"ERROR"},"value":{"foregroundColor":"#E92828"}},{"if":{"column":"result_state","fn":"=","literal":"SKIPPED"},"value":{"foregroundColor":"#799CFF"}},{"if":{"column":"result_state","fn":"=","literal":"CANCELLED"},"value":{"foregroundColor":"#604FE9"}},{"if":{"column":"result_state","fn":"=","literal":"TIMED_OUT"},"value":{"foregroundColor":"#E92828"}},{"if":{"column":"result_state","fn":"=","literal":"FAILED"},"value":{"foregroundColor":"#E92828"}}]},"displayName":"result_state"},{"fieldName":"latest_duration_min","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":6,"title":"LATEST RUN DURATION (minutes)","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"latest_duration_min"},{"fieldName":"failure_rate","numberFormat":"0%","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":12,"title":"% FAILURE RATE","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"cellFormat":{"default":{"foregroundColor":null},"rules":[{"if":{"column":"failure_rate","fn":">","literal":"0"},"value":{"foregroundColor":null}},{"if":{"column":"failure_rate","fn":"=","literal":""},"value":{"foregroundColor":null}}]},"displayName":"failure_rate"},{"fieldName":"job_duration_pct_change","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":13,"title":"% change in Last Run","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"cellFormat":{"default":{"foregroundColor":null},"rules":[{"if":{"column":"job_duration_pct_change","fn":"<","literal":"0"},"value":{"foregroundColor":"#3BD973"}},{"if":{"column":"job_duration_pct_change","fn":">","literal":"0"},"value":{"foregroundColor":"#E92828"}}]},"displayName":"job_duration_pct_change"}]},"invisibleColumns":[{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"account_id","type":"string","displayAs":"string","order":0,"title":"account_id","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"workspace_id","type":"string","displayAs":"string","order":1,"title":"workspace_id","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"total_runs","type":"integer","displayAs":"number","order":7,"title":"TOTAL RUNS","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"total_error","type":"integer","displayAs":"number","order":8,"title":"TOTAL ERROR","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"total_timed_out","type":"integer","displayAs":"number","order":9,"title":"total_timed_out","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"total_succeeded","type":"integer","displayAs":"number","order":10,"title":"total_succeeded","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"total_failed","type":"integer","displayAs":"number","order":11,"title":"total_failed","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"total_cancelled","type":"integer","displayAs":"number","order":14,"title":"total_cancelled","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false}],"allowHTMLByDefault":false,"itemsPerPage":25,"paginationSize":"default","condensed":false,"withRowNumber":false,"frame":{"showTitle":false,"title":"","showDescription":true,"description":""}}},"position":{"x":0,"y":48,"width":6,"height":10}},{"widget":{"name":"0f667b70","queries":[{"name":"parameter_dashboards/01efee50508612e6888965e28cf32af7/datasets/01eff5313a601ea1a5debb4b6bfe4131_tags","query":{"datasetName":"57b1e8c8","parameters":[{"name":"tags","keyword":"tags"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"parameterName":"tags","queryName":"parameter_dashboards/01efee50508612e6888965e28cf32af7/datasets/01eff5313a601ea1a5debb4b6bfe4131_tags"}]},"disallowAll":true,"frame":{"showTitle":true,"showDescription":false,"title":"Key Value Tags"}}},"position":{"x":3,"y":10,"width":3,"height":1}},{"widget":{"name":"f6f7f02b","queries":[{"name":"main_query","query":{"datasetName":"57b1e8c8","fields":[{"name":"cleansed_cluster_source","expression":"`cleansed_cluster_source`"},{"name":"daily(usage_date)","expression":"DATE_TRUNC(\"DAY\", `usage_date`)"},{"name":"countdistinct(job_run_id)","expression":"COUNT(DISTINCT `job_run_id`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"daily(usage_date)","scale":{"type":"categorical"},"axis":{"labelAngle":0,"title":"Date"},"displayName":"Date"},"y":{"fieldName":"countdistinct(job_run_id)","scale":{"type":"quantitative"},"axis":{"title":"Number of Runs"},"displayName":"Number of Runs"},"color":{"fieldName":"cleansed_cluster_source","scale":{"type":"categorical"},"legend":{"title":"Cluster Source"},"displayName":"Cluster Source"},"label":{"show":true}},"frame":{"title":"Daily Runs By Cluster Source","showTitle":true,"showDescription":true,"description":"ALL PURPOSE CLUSTER compute can be cost inefficient"}}},"position":{"x":0,"y":39,"width":6,"height":6}},{"widget":{"name":"a778a7c8","textbox_spec":"### Latest Job Runs\nThe below Table showcases the Latest Run Date of the Job , Latest Result State , Duration of Last Run , Failure Rate of the Job and % Change in duration of Last Job run from its previous run "},"position":{"x":0,"y":45,"width":6,"height":3}},{"widget":{"name":"32e3ceb8","textbox_spec":"### Daily Job Run KPIs \nThe below visualizations showcase the Daily:\n* Number of Runs stacked by WorkspaceId\n* Number of Runs by State of the run\n* Number of Runs by Cluster Source"},"position":{"x":0,"y":31,"width":6,"height":3}}]},{"name":"b67f33b2","displayName":"Job Run Metrics","layout":[{"widget":{"name":"8d2269f9","textbox_spec":"### Job Metrics\n* By default all the KPI's below are only applicable for the last 7 Days of data\n* However feel free to adjust **Job Start Date** and **Job End Date**\n"},"position":{"x":0,"y":0,"width":6,"height":2}},{"widget":{"name":"93a80333","queries":[{"name":"dashboards/01ef7f8fc6b11d308cf7e71c24d0dbd1/datasets/01ef97e9eaa018d48afc9a5f2f9ec8b1_job_name","query":{"datasetName":"4e2dddd3","fields":[{"name":"job_name","expression":"`job_name`"},{"name":"job_name_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"fieldName":"job_name","displayName":"job_name","queryName":"dashboards/01ef7f8fc6b11d308cf7e71c24d0dbd1/datasets/01ef97e9eaa018d48afc9a5f2f9ec8b1_job_name"}]},"disallowAll":false,"frame":{"showTitle":true,"title":"Job Name"}}},"position":{"x":0,"y":2,"width":3,"height":1}},{"widget":{"name":"347e5df1","queries":[{"name":"dashboards/01ef7f8fc6b11d308cf7e71c24d0dbd1/datasets/01ef97e9eaa018d48afc9a5f2f9ec8b1_owned_by","query":{"datasetName":"4e2dddd3","fields":[{"name":"owned_by","expression":"`owned_by`"},{"name":"owned_by_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"fieldName":"owned_by","displayName":"owned_by","queryName":"dashboards/01ef7f8fc6b11d308cf7e71c24d0dbd1/datasets/01ef97e9eaa018d48afc9a5f2f9ec8b1_owned_by"}]},"disallowAll":false,"frame":{"showTitle":true,"title":"Job Owner "}}},"position":{"x":3,"y":2,"width":3,"height":1}},{"widget":{"name":"2d9b8ab9","queries":[{"name":"parameter_dashboards/01efee50508612e6888965e28cf32af7/datasets/01eff5313a601f24a6195cec0f19d1a3_start_date","query":{"datasetName":"4e2dddd3","parameters":[{"name":"start_date","keyword":"start_date"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-date-picker","encodings":{"fields":[{"parameterName":"start_date","queryName":"parameter_dashboards/01efee50508612e6888965e28cf32af7/datasets/01eff5313a601f24a6195cec0f19d1a3_start_date"}]},"frame":{"showTitle":true,"title":"Job Start Date"}}},"position":{"x":0,"y":4,"width":3,"height":1}},{"widget":{"name":"8718854a","queries":[{"name":"main_query","query":{"datasetName":"4e2dddd3","fields":[{"name":"avg(cpu_total_percent)","expression":"AVG(`cpu_total_percent`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"avg(cpu_total_percent)","format":{"type":"number-plain","abbreviation":"compact","decimalPlaces":{"type":"max","places":2}},"style":{"rules":[{"condition":{"operator":">=","operand":{"type":"data-value","value":"95"}},"color":"#E92828"},{"condition":{"operator":"<=","operand":{"type":"data-value","value":"95"}},"color":"#00A972"}]},"displayName":"Average cpu_total_percent"}},"frame":{"showTitle":true,"title":"AVG CPU Utilization"}}},"position":{"x":0,"y":7,"width":1,"height":2}},{"widget":{"name":"bcda5345","queries":[{"name":"main_query","query":{"datasetName":"4e2dddd3","fields":[{"name":"max(cpu_total_percent)","expression":"MAX(`cpu_total_percent`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"max(cpu_total_percent)","format":{"type":"number-plain","abbreviation":"compact","decimalPlaces":{"type":"max","places":2}},"style":{"rules":[{"condition":{"operator":">=","operand":{"type":"data-value","value":"95"}},"color":"#E92828"}]},"displayName":"Maximum cpu_total_percent"}},"frame":{"showTitle":true,"title":"Max CPU Utilization"}}},"position":{"x":1,"y":7,"width":1,"height":2}},{"widget":{"name":"db6abb0f","queries":[{"name":"main_query","query":{"datasetName":"4e2dddd3","fields":[{"name":"avg(mem_used_percent)","expression":"AVG(`mem_used_percent`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"avg(mem_used_percent)","format":{"type":"number-plain","abbreviation":"compact","decimalPlaces":{"type":"max","places":2}},"style":{"rules":[{"condition":{"operator":">=","operand":{"type":"data-value","value":"60"}},"color":"#E92828"},{"condition":{"operator":"<=","operand":{"type":"data-value","value":"60"}},"color":"#00A972"}]},"displayName":"Average mem_used_percent"}},"frame":{"showTitle":true,"title":"AVG Memory Utilization"}}},"position":{"x":2,"y":7,"width":1,"height":2}},{"widget":{"name":"ac6243ba","queries":[{"name":"main_query","query":{"datasetName":"4e2dddd3","fields":[{"name":"max(mem_used_percent)","expression":"MAX(`mem_used_percent`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"max(mem_used_percent)","format":{"type":"number-plain","abbreviation":"compact","decimalPlaces":{"type":"max","places":2}},"style":{"rules":[{"condition":{"operator":">=","operand":{"type":"data-value","value":"95"}},"color":"#E92828"}]},"displayName":"Maximum mem_used_percent"}},"frame":{"showTitle":true,"title":"Max Memory Utilization"}}},"position":{"x":3,"y":7,"width":1,"height":2}},{"widget":{"name":"6407ac55","queries":[{"name":"main_query","query":{"datasetName":"4e2dddd3","fields":[{"name":"avg(bytes_sent)","expression":"AVG(`bytes_sent`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"avg(bytes_sent)","format":{"type":"number-plain","abbreviation":"compact","decimalPlaces":{"type":"max","places":2}},"displayName":"Average bytes_sent"}},"frame":{"showTitle":true,"title":"Avg Data Network Send (MB) "}}},"position":{"x":4,"y":7,"width":1,"height":2}},{"widget":{"name":"1ee7908c","queries":[{"name":"main_query","query":{"datasetName":"4e2dddd3","fields":[{"name":"avg(bytes_sent)","expression":"AVG(`bytes_sent`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"avg(bytes_sent)","format":{"type":"number-plain","abbreviation":"compact","decimalPlaces":{"type":"max","places":2}},"displayName":"Average bytes_sent"}},"frame":{"showTitle":true,"title":"Avg Data Network Send (MB) "}}},"position":{"x":5,"y":7,"width":1,"height":2}},{"widget":{"name":"c711822d","queries":[{"name":"main_query","query":{"datasetName":"4e2dddd3","fields":[{"name":"daily(run_start_time)","expression":"DATE_TRUNC(\"DAY\", `run_start_time`)"},{"name":"sum(bytes_sent)","expression":"SUM(`bytes_sent`)"},{"name":"sum(bytes_rec)","expression":"SUM(`bytes_rec`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"area","encodings":{"x":{"fieldName":"daily(run_start_time)","scale":{"type":"temporal"},"axis":{"title":"Date"},"displayName":"date"},"y":{"scale":{"type":"quantitative"},"fields":[{"fieldName":"sum(bytes_sent)","displayName":"Sum of bytes_sent"},{"fieldName":"sum(bytes_rec)","displayName":"Sum of bytes_rec"}],"axis":{"title":"Bytes (MB)"}}},"frame":{"showTitle":true,"title":"Daily Network Utilization - Avg Bytes Sent (MB)"},"mark":{"colors":["#5a16b0","#8BCAE7","#AB4057","#99DDB4","#FCA4A1","#919191","#BF7080"]}}},"position":{"x":0,"y":35,"width":6,"height":5}},{"widget":{"name":"512d4b06","queries":[{"name":"main_query","query":{"datasetName":"4e2dddd3","fields":[{"name":"avg(cpu_total_percent)","expression":"AVG(`cpu_total_percent`)"},{"name":"daily(run_start_time)","expression":"DATE_TRUNC(\"DAY\", `run_start_time`)"},{"name":"job_run_id","expression":"`job_run_id`"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"heatmap","encodings":{"x":{"fieldName":"daily(run_start_time)","scale":{"type":"temporal"},"axis":{"title":"Date"},"displayName":"date"},"y":{"fieldName":"job_run_id","scale":{"type":"categorical"},"axis":{"title":"Job Run ID"},"displayName":"Job Run ID"},"color":{"fieldName":"avg(cpu_total_percent)","scale":{"type":"quantitative","colorRamp":{"mode":"scheme","scheme":"plasma"}},"displayName":"%"}},"frame":{"showTitle":true,"title":"CPU Utilization Per Run"}}},"position":{"x":0,"y":29,"width":3,"height":6}},{"widget":{"name":"602567f2","queries":[{"name":"main_query","query":{"datasetName":"4e2dddd3","fields":[{"name":"avg(mem_used_percent)","expression":"AVG(`mem_used_percent`)"},{"name":"daily(run_start_time)","expression":"DATE_TRUNC(\"DAY\", `run_start_time`)"},{"name":"job_run_id","expression":"`job_run_id`"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"heatmap","encodings":{"x":{"fieldName":"daily(run_start_time)","scale":{"type":"temporal"},"axis":{"title":"Date"},"displayName":"date"},"y":{"fieldName":"job_run_id","scale":{"type":"categorical"},"axis":{"title":"Job Run ID"},"displayName":"Job Run ID"},"color":{"fieldName":"avg(mem_used_percent)","scale":{"type":"quantitative","colorRamp":{"mode":"scheme","scheme":"plasma"}},"displayName":"%"}},"frame":{"showTitle":true,"title":"Memory Utilization Per Run"}}},"position":{"x":3,"y":29,"width":3,"height":6}},{"widget":{"name":"ebef103b","queries":[{"name":"main_query","query":{"datasetName":"4e2dddd3","fields":[{"name":"job_run_id","expression":"`job_run_id`"},{"name":"run_start_time","expression":"`run_start_time`"},{"name":"run_end_time","expression":"`run_end_time`"},{"name":"trigger_type","expression":"`trigger_type`"},{"name":"run_termination_code","expression":"`run_termination_code`"},{"name":"cluster_id","expression":"`cluster_id`"},{"name":"driver_node_type","expression":"`driver_node_type`"},{"name":"worker_node_type","expression":"`worker_node_type`"},{"name":"worker_count","expression":"`worker_count`"},{"name":"mem_used_percent","expression":"`mem_used_percent`"},{"name":"cpu_total_percent","expression":"`cpu_total_percent`"}],"disaggregated":true}}],"spec":{"version":1,"widgetType":"table","encodings":{"columns":[{"fieldName":"job_run_id","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":0,"title":"JOB RUN ID","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"job_run_id"},{"fieldName":"run_start_time","dateTimeFormat":"YYYY-MM-DD HH:mm:ss.SSS","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"datetime","displayAs":"datetime","visible":true,"order":1,"title":"RUN START TIME","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"run_start_time"},{"fieldName":"run_end_time","dateTimeFormat":"YYYY-MM-DD HH:mm:ss.SSS","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"datetime","displayAs":"datetime","visible":true,"order":2,"title":"RUN END TIME","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"run_end_time"},{"fieldName":"trigger_type","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":3,"title":"TRIGGER TYPE","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"trigger_type"},{"fieldName":"run_termination_code","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":4,"title":"TERMINATION CODE","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"run_termination_code"},{"fieldName":"cluster_id","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":5,"title":"CLUSTER ID","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"cluster_id"},{"fieldName":"driver_node_type","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":7,"title":"DRIVER TYPE","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"driver_node_type"},{"fieldName":"worker_node_type","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":8,"title":"WORKER NODE TYPE","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"worker_node_type"},{"fieldName":"worker_count","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"integer","displayAs":"number","visible":true,"order":9,"title":"WORKER COUNT","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"worker_count"},{"fieldName":"mem_used_percent","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":10,"title":"AVG MEMORY USED","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"description":"","displayName":"mem_used_percent"},{"fieldName":"cpu_total_percent","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":11,"title":"AVG CPU UTILIZATION","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"cpu_total_percent"}]},"invisibleColumns":[{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"owned_by","type":"string","displayAs":"string","order":6,"title":"owned_by","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"bytes_sent","type":"float","displayAs":"number","order":12,"title":"bytes_sent","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"bytes_rec","type":"float","displayAs":"number","order":13,"title":"bytes_rec","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"account_id","type":"string","displayAs":"string","order":14,"title":"account_id","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"workspace_id","type":"string","displayAs":"string","order":15,"title":"workspace_id","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"job_id","type":"string","displayAs":"string","order":16,"title":"job_id","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"job_name","type":"string","displayAs":"string","order":17,"title":"job_name","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"run_type","type":"string","displayAs":"string","order":18,"title":"run_type","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"job_task_run_id","type":"string","displayAs":"string","order":19,"title":"job_task_run_id","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"parent_run_id","type":"string","displayAs":"string","order":20,"title":"parent_run_id","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"dateTimeFormat":"YYYY-MM-DD HH:mm:ss.SSS","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"task_start_time","type":"datetime","displayAs":"datetime","order":21,"title":"task_start_time","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"dateTimeFormat":"YYYY-MM-DD HH:mm:ss.SSS","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"task_end_time","type":"datetime","displayAs":"datetime","order":22,"title":"task_end_time","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"task_key","type":"string","displayAs":"string","order":23,"title":"task_key","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"task_result_state","type":"string","displayAs":"string","order":24,"title":"task_result_state","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"task_termination_code","type":"string","displayAs":"string","order":25,"title":"task_termination_code","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"cluster_name","type":"string","displayAs":"string","order":26,"title":"cluster_name","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"driver_core_count","type":"float","displayAs":"number","order":27,"title":"driver_core_count","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"driver_memory_gb","type":"float","displayAs":"number","order":28,"title":"driver_memory_gb","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"driver_gpu_count","type":"integer","displayAs":"number","order":29,"title":"driver_gpu_count","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"worker_core_count","type":"float","displayAs":"number","order":30,"title":"worker_core_count","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"worker_memory_gb","type":"float","displayAs":"number","order":31,"title":"worker_memory_gb","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"worker_gpu_count","type":"integer","displayAs":"number","order":32,"title":"worker_gpu_count","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"min_autoscale_workers","type":"integer","displayAs":"number","order":33,"title":"min_autoscale_workers","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"max_autoscale_workers","type":"integer","displayAs":"number","order":34,"title":"max_autoscale_workers","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"auto_termination_minutes","type":"integer","displayAs":"number","order":35,"title":"auto_termination_minutes","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"dbr_version","type":"string","displayAs":"string","order":36,"title":"dbr_version","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"instance_id","type":"string","displayAs":"string","order":37,"title":"instance_id","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"dateTimeFormat":"YYYY-MM-DD HH:mm:ss.SSS","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"instance_start_time","type":"datetime","displayAs":"datetime","order":38,"title":"instance_start_time","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"dateTimeFormat":"YYYY-MM-DD HH:mm:ss.SSS","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"instance_end_time","type":"datetime","displayAs":"datetime","order":39,"title":"instance_end_time","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"driver","type":"boolean","displayAs":"boolean","order":40,"title":"driver","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"cpu_user_percent","type":"float","displayAs":"number","order":41,"title":"cpu_user_percent","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"cpu_system_percent","type":"float","displayAs":"number","order":42,"title":"cpu_system_percent","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"cpu_wait_percent","type":"float","displayAs":"number","order":43,"title":"cpu_wait_percent","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"mem_swap_percent","type":"float","displayAs":"number","order":44,"title":"mem_swap_percent","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"network_sent_bytes","type":"integer","displayAs":"number","order":45,"title":"network_sent_bytes","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"network_received_bytes","type":"integer","displayAs":"number","order":46,"title":"network_received_bytes","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"top_k_low_cpu_job","type":"string","displayAs":"string","order":47,"title":"top_k_low_cpu_job","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"top_k_high_cpu_job","type":"string","displayAs":"string","order":48,"title":"top_k_high_cpu_job","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"top_k_high_mem_job","type":"string","displayAs":"string","order":49,"title":"top_k_high_mem_job","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"top_k_low_mem_job","type":"string","displayAs":"string","order":50,"title":"top_k_low_mem_job","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"row_num_for_table","type":"integer","displayAs":"number","order":51,"title":"row_num_for_table","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false}],"allowHTMLByDefault":false,"itemsPerPage":25,"paginationSize":"default","condensed":true,"withRowNumber":false}},"position":{"x":0,"y":41,"width":6,"height":12}},{"widget":{"name":"22f29091","queries":[{"name":"dashboards/01efed5b61be1591ad2a7455eaa232d2/datasets/01efed5b61be1c648edb65f5b8186bef_job_run_id","query":{"datasetName":"4e2dddd3","fields":[{"name":"job_run_id","expression":"`job_run_id`"},{"name":"job_run_id_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"fieldName":"job_run_id","displayName":"job_run_id","queryName":"dashboards/01efed5b61be1591ad2a7455eaa232d2/datasets/01efed5b61be1c648edb65f5b8186bef_job_run_id"}]},"disallowAll":false,"frame":{"showTitle":true,"title":"Job Run ID"}}},"position":{"x":0,"y":3,"width":3,"height":1}},{"widget":{"name":"3f9b6145","queries":[{"name":"dashboards/01efee50508612e6888965e28cf32af7/datasets/01eff5313a601f24a6195cec0f19d1a3_dbr_version","query":{"datasetName":"4e2dddd3","fields":[{"name":"dbr_version","expression":"`dbr_version`"},{"name":"dbr_version_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"fieldName":"dbr_version","displayName":"dbr_version","queryName":"dashboards/01efee50508612e6888965e28cf32af7/datasets/01eff5313a601f24a6195cec0f19d1a3_dbr_version"}]},"disallowAll":false,"frame":{"showTitle":true,"title":"DBR Version"}}},"position":{"x":3,"y":6,"width":3,"height":1}},{"widget":{"name":"bda81787","queries":[{"name":"dashboards/01ef7f8fc6b11d308cf7e71c24d0dbd1/datasets/01ef97e9eaa018d48afc9a5f2f9ec8b1_cluster_id","query":{"datasetName":"4e2dddd3","fields":[{"name":"cluster_id","expression":"`cluster_id`"},{"name":"cluster_id_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"fieldName":"cluster_id","displayName":"cluster_id","queryName":"dashboards/01ef7f8fc6b11d308cf7e71c24d0dbd1/datasets/01ef97e9eaa018d48afc9a5f2f9ec8b1_cluster_id"}]},"disallowAll":false,"frame":{"showTitle":true,"title":"Cluster Id "}}},"position":{"x":0,"y":6,"width":3,"height":1}},{"widget":{"name":"d74d1912","queries":[{"name":"dashboards/01ef7f8fc6b11d308cf7e71c24d0dbd1/datasets/01ef97e9eaa018d48afc9a5f2f9ec8b1_worker_node_type","query":{"datasetName":"4e2dddd3","fields":[{"name":"worker_node_type","expression":"`worker_node_type`"},{"name":"worker_node_type_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"fieldName":"worker_node_type","displayName":"worker_node_type","queryName":"dashboards/01ef7f8fc6b11d308cf7e71c24d0dbd1/datasets/01ef97e9eaa018d48afc9a5f2f9ec8b1_worker_node_type"}]},"disallowAll":false,"frame":{"showTitle":true,"title":"Worker Type"}}},"position":{"x":0,"y":5,"width":3,"height":1}},{"widget":{"name":"e909daec","textbox_spec":"### Granular Job Run Metrics"},"position":{"x":0,"y":40,"width":6,"height":1}},{"widget":{"name":"28fd2325","queries":[{"name":"dashboards/01efee50508612e6888965e28cf32af7/datasets/01eff5313a601f24a6195cec0f19d1a3_driver_node_type","query":{"datasetName":"4e2dddd3","fields":[{"name":"driver_node_type","expression":"`driver_node_type`"},{"name":"driver_node_type_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"fieldName":"driver_node_type","displayName":"driver_node_type","queryName":"dashboards/01efee50508612e6888965e28cf32af7/datasets/01eff5313a601f24a6195cec0f19d1a3_driver_node_type"}]},"disallowAll":false,"frame":{"showTitle":true,"title":"Driver Type"}}},"position":{"x":3,"y":5,"width":3,"height":1}},{"widget":{"name":"e745868d","queries":[{"name":"parameter_dashboards/01efee50508612e6888965e28cf32af7/datasets/01eff5313a601f24a6195cec0f19d1a3_end_date","query":{"datasetName":"4e2dddd3","parameters":[{"name":"end_date","keyword":"end_date"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-date-picker","encodings":{"fields":[{"parameterName":"end_date","queryName":"parameter_dashboards/01efee50508612e6888965e28cf32af7/datasets/01eff5313a601f24a6195cec0f19d1a3_end_date"}]},"frame":{"showTitle":true,"title":"Job End Date"}}},"position":{"x":3,"y":4,"width":3,"height":1}},{"widget":{"name":"0d7dc2a0","queries":[{"name":"parameter_dashboards/01efee50508612e6888965e28cf32af7/datasets/01eff5313a601f24a6195cec0f19d1a3_top_k","query":{"datasetName":"4e2dddd3","parameters":[{"name":"top_k","keyword":"top_k"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"parameterName":"top_k","queryName":"parameter_dashboards/01efee50508612e6888965e28cf32af7/datasets/01eff5313a601f24a6195cec0f19d1a3_top_k"}]},"frame":{"showTitle":true,"title":"Top K"}}},"position":{"x":3,"y":3,"width":3,"height":1}},{"widget":{"name":"4980cd50","queries":[{"name":"main_query","query":{"datasetName":"4e2dddd3","fields":[{"name":"job_name","expression":"`job_name`"},{"name":"avg(cpu_total_percent)","expression":"AVG(`cpu_total_percent`)"}],"filters":[{"expression":"`top_k_low_cpu_job` IN ('LOW CPU')"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"job_name","axis":{"title":"Job Name"},"scale":{"type":"categorical","sort":{"by":"y"}},"displayName":"Job Name"},"y":{"fieldName":"avg(cpu_total_percent)","scale":{"type":"quantitative"},"displayName":"Avg CPU Utilization %"},"color":{"fieldName":"job_name","scale":{"type":"categorical"},"legend":{"title":"Job Name"},"displayName":"Job Name"}},"frame":{"showTitle":true,"title":"The K Jobs Using the Least CPU","showDescription":true,"description":"These jobs are not close to fully leveraging the hardware potential"}}},"position":{"x":0,"y":11,"width":3,"height":8}},{"widget":{"name":"5dc2d7cb","queries":[{"name":"main_query","query":{"datasetName":"4e2dddd3","fields":[{"name":"job_name","expression":"`job_name`"},{"name":"avg(mem_used_percent)","expression":"AVG(`mem_used_percent`)"}],"filters":[{"expression":"`top_k_high_mem_job` IN ('HIGH MEMORY')"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"job_name","scale":{"type":"categorical","sort":{"by":"y-reversed"}},"axis":{"title":"Job Name"},"displayName":"Job Name"},"y":{"fieldName":"avg(mem_used_percent)","scale":{"type":"quantitative"},"displayName":"Avg Memory Utilization %"},"color":{"fieldName":"job_name","scale":{"type":"categorical"},"legend":{"title":"Job Name"},"displayName":"Job Name"}},"frame":{"showTitle":true,"showDescription":true,"title":"The K Jobs Using the Most Memory","description":"Consider increasing memory allocation"}}},"position":{"x":3,"y":19,"width":3,"height":8}},{"widget":{"name":"49f626e5","queries":[{"name":"main_query","query":{"datasetName":"4e2dddd3","fields":[{"name":"job_name","expression":"`job_name`"},{"name":"avg(cpu_total_percent)","expression":"AVG(`cpu_total_percent`)"}],"filters":[{"expression":"`top_k_high_cpu_job` IN ('High CPU')"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"job_name","axis":{"title":"Job Name"},"scale":{"type":"categorical","sort":{"by":"y-reversed"}},"displayName":"Job Name"},"y":{"fieldName":"avg(cpu_total_percent)","scale":{"type":"quantitative"},"displayName":"Avg CPU Utilization %"},"color":{"fieldName":"job_name","scale":{"type":"categorical"},"legend":{"title":"Job Name"},"displayName":"Job Name"}},"frame":{"showTitle":true,"showDescription":true,"title":"The K Jobs Using the Most CPU","description":"These jobs are close to fully leveraging the hardware potential"}}},"position":{"x":3,"y":11,"width":3,"height":8}},{"widget":{"name":"0eda0f7a","queries":[{"name":"main_query","query":{"datasetName":"4e2dddd3","fields":[{"name":"job_name","expression":"`job_name`"},{"name":"avg(mem_used_percent)","expression":"AVG(`mem_used_percent`)"}],"filters":[{"expression":"`top_k_low_mem_job` IN ('LOW MEMORY')"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"job_name","axis":{"title":"Job Name"},"scale":{"type":"categorical","sort":{"by":"y"}},"displayName":"Job Name"},"y":{"fieldName":"avg(mem_used_percent)","scale":{"type":"quantitative"},"displayName":"Avg Memory Utilization %"},"color":{"fieldName":"job_name","scale":{"type":"categorical"},"legend":{"title":"Job Name"},"displayName":"Job Name"}},"frame":{"showTitle":true,"title":"The K Jobs Using the Least Memory","showDescription":true,"description":"Consider decreasing memory allocation"}}},"position":{"x":0,"y":19,"width":3,"height":8}},{"widget":{"name":"00c0e6a7","textbox_spec":"### Top Over and Under Provisioned Jobs\n* By Avg CPU and Avg Memory Utilization"},"position":{"x":0,"y":9,"width":6,"height":2}},{"widget":{"name":"d9563136","textbox_spec":"### Heatmaps of Avg CPU and Avg Memory Utilization"},"position":{"x":0,"y":27,"width":6,"height":2}}]}]}